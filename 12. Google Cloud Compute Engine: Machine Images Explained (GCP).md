![](https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fnycky1a0b80fql7saquj.png)
## **Google Cloud Compute Engine: Gi·∫£i th√≠ch v·ªÅ Machine Images (GCP)**

---

### T·ªïng quan

Trong qu√° tr√¨nh l√†m vi·ªác v·ªõi **Google Compute Engine (GCE)**, nhu c·∫ßu l∆∞u l·∫°i **to√†n b·ªô tr·∫°ng th√°i c·ªßa m·ªôt m√°y ·∫£o (VM)** ‚Äî bao g·ªìm c·∫•u h√¨nh, metadata v√† c√°c ƒëƒ©a g·∫Øn k√®m ‚Äî l√† r·∫•t ph·ªï bi·∫øn, ƒë·∫∑c bi·ªát ph·ª•c v·ª• cho sao l∆∞u, nh√¢n b·∫£n ho·∫∑c kh√¥i ph·ª•c h·ªá th·ªëng. **Machine Images** ƒë∆∞·ª£c thi·∫øt k·∫ø nh·∫±m ƒë√°p ·ª©ng ƒë·∫ßy ƒë·ªß c√°c y√™u c·∫ßu n√†y.

---

### 1. Machine Image l√† g√¨?

**Machine Image** l√† m·ªôt b·∫£n ghi to√†n di·ªán tr·∫°ng th√°i c·ªßa VM, bao g·ªìm:

* To√†n b·ªô **c·∫•u h√¨nh v√† thu·ªôc t√≠nh** c·ªßa VM
* **Metadata, quy·ªÅn truy c·∫≠p (permissions) v√† labels**
* **D·ªØ li·ªáu c·ªßa t·∫•t c·∫£ persistent disks** ƒë∆∞·ª£c g·∫Øn v√†o VM t·∫°i th·ªùi ƒëi·ªÉm t·∫°o image

Nh·ªù ƒë√≥, b·∫°n c√≥ th·ªÉ t·∫°o ra m·ªôt VM m·ªõi **gi·ªëng h·ªát VM g·ªëc** v·ªÅ c·∫•u h√¨nh v√† d·ªØ li·ªáu.

Machine Images ƒë·∫∑c bi·ªát h·ªØu √≠ch trong c√°c tr∆∞·ªùng h·ª£p sau:

* **T·∫°o VM nhanh ch√≥ng** v·ªõi c·∫•u h√¨nh ƒë·ªìng nh·∫•t
* **Sao l∆∞u v√† kh√¥i ph·ª•c h·ªá th·ªëng** t·∫°i m·ªôt th·ªùi ƒëi·ªÉm x√°c ƒë·ªãnh (point-in-time)
* **Nh√¢n b·∫£n VM** ƒë·ªÉ t√°i t·∫°o m√¥i tr∆∞·ªùng l√†m vi·ªác ho·∫∑c s·∫£n xu·∫•t

üëâ ƒêi·ªÉm c·ªët l√µi: **To√†n b·ªô c·∫•u h√¨nh VM ƒë∆∞·ª£c l∆∞u gi·ªØ** trong qu√° tr√¨nh t·∫°o Machine Image, gi√∫p vi·ªác tri·ªÉn khai VM nh·∫•t qu√°n v√† ƒë√°ng tin c·∫≠y.

---
![](https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F88vs7qs16l06ygj8brcp.png)

### 2. C√°c ƒë·∫∑c t√≠nh quan tr·ªçng c·ªßa Machine Images

* **B·∫•t bi·∫øn (Immutable)**: Sau khi ƒë∆∞·ª£c t·∫°o, Machine Image **kh√¥ng th·ªÉ ch·ªânh s·ª≠a**
* **C√≥ th·ªÉ ghi ƒë√® khi kh·ªüi t·∫°o VM**: H·∫ßu h·∫øt c√°c thu·ªôc t√≠nh (machine type, network, metadata, labels, service account‚Ä¶) c√≥ th·ªÉ ƒë∆∞·ª£c thay ƒë·ªïi khi t·∫°o VM m·ªõi t·ª´ Machine Image
* **Ph∆∞∆°ng th·ª©c t·∫°o Machine Image**:

  * Google Cloud Console
  * gcloud command-line tool
  * Compute Engine REST API
* **V·ªã tr√≠ l∆∞u tr·ªØ**:

  * L∆∞u tr·ªØ theo **Region** ho·∫∑c **Multi-region**, ph√π h·ª£p cho y√™u c·∫ßu tu√¢n th·ªß (compliance) v√† truy c·∫≠p to√†n c·∫ßu
  * ƒê∆∞·ª£c l∆∞u trong **Cloud Storage bucket do Google qu·∫£n l√Ω**, kh√¥ng hi·ªÉn th·ªã tr·ª±c ti·∫øp trong d·ª± √°n c·ªßa ng∆∞·ªùi d√πng
* **Kh·∫£ nƒÉng m·ªü r·ªông**:

  * H·ªó tr·ª£ g·∫Øn **GPU** v√† **Local SSD** khi t·∫°o VM m·ªõi (ƒë·∫∑c bi·ªát trong c√°c k·ªãch b·∫£n Spot VM) ƒë·ªÉ tƒÉng hi·ªáu nƒÉng v√† t·ªëi ∆∞u chi ph√≠

---

### 3. Nh·ªØng g√¨ Machine Images ghi nh·∫≠n

Machine Images b·∫£o to√†n ƒë·∫ßy ƒë·ªß c√°c th√†nh ph·∫ßn sau t·ª´ VM ngu·ªìn:

* **C·∫•u h√¨nh VM**: machine type, metadata, labels, network tags
* **M√¥ t·∫£ instance** v√† **ch√≠nh s√°ch b·∫£o tr√¨ (maintenance policies)**
* **D·ªØ li·ªáu c·ªßa persistent disks** t·∫°i th·ªùi ƒëi·ªÉm nh·∫•t qu√°n
* **Disk mapping**, bao g·ªìm c·∫£ √°nh x·∫° thi·∫øt b·ªã c·ªßa Local SSD

---

### 4. Nh·ªØng g√¨ Machine Images kh√¥ng ghi nh·∫≠n

Machine Images **kh√¥ng l∆∞u tr·ªØ** c√°c th√†nh ph·∫ßn sau:

* D·ªØ li·ªáu trong **RAM (b·ªô nh·ªõ t·∫°m th·ªùi)**
* **D·ªØ li·ªáu th·ª±c t·∫ø tr√™n Local SSD** (ch·ªâ l∆∞u mapping thi·∫øt b·ªã, kh√¥ng l∆∞u n·ªôi dung)
* C√°c thu·ªôc t√≠nh mang t√≠nh ƒë·ªãnh danh ri√™ng c·ªßa VM g·ªëc nh∆∞:

  * T√™n instance
  * ƒê·ªãa ch·ªâ IP n·ªôi b·ªô v√† IP c√¥ng c·ªông
  * Tr·∫°ng th√°i runtime t·∫°m th·ªùi

---

### 5. Khi n√†o n√™n s·ª≠ d·ª•ng Machine Images?

Machine Images c√≥ t√≠nh linh ho·∫°t cao v√† ph√π h·ª£p v·ªõi nhi·ªÅu k·ªãch b·∫£n v·∫≠n h√†nh:

* üîÑ **Sao l∆∞u v√† kh√¥i ph·ª•c**: B·∫£o v·ªá workload b·∫±ng c√°c b·∫£n sao l∆∞u nh·∫•t qu√°n
* üß™ **Nh√¢n b·∫£n v√† sao ch√©p m√¥i tr∆∞·ªùng**: T·∫°o nhanh c√°c m√¥i tr∆∞·ªùng test, staging v√† production
* üì¶ **T√°i s·ª≠ d·ª•ng c·∫•u h√¨nh**: Chu·∫©n h√≥a tri·ªÉn khai VM gi·ªØa c√°c d·ª± √°n v√† nh√≥m
* ‚ö° **Kh√¥i ph·ª•c sau th·∫£m h·ªça (Disaster Recovery)**: T√°i t·∫°o VM nhanh ch√≥ng khi x·∫£y ra s·ª± c·ªë
* üöÄ **Gi·∫£m th·ªùi gian kh·ªüi t·∫°o VM** khi s·ª≠ d·ª•ng Machine Image t√πy ch·ªânh cho m√¥i tr∆∞·ªùng s·∫£n xu·∫•t
![](https://media2.dev.to/dynamic/image/width=800%2Cheight=%2Cfit=scale-down%2Cgravity=auto%2Cformat=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fpv8kvd6407m3fetgp259.png)
---

### T·ªïng k·∫øt

**Machine Images trong Google Cloud** cung c·∫•p m·ªôt c∆° ch·∫ø m·∫°nh m·∫Ω, linh ho·∫°t v√† tin c·∫≠y ƒë·ªÉ qu·∫£n l√Ω v√≤ng ƒë·ªùi VM, bao g·ªìm sao l∆∞u, kh√¥i ph·ª•c, nh√¢n b·∫£n v√† sao ch√©p h·ªá th·ªëng. Nh·ªù kh·∫£ nƒÉng l∆∞u gi·ªØ **ƒë·∫ßy ƒë·ªß c·∫•u h√¨nh VM v√† d·ªØ li·ªáu ƒëƒ©a**, Machine Images l√† th√†nh ph·∫ßn thi·∫øt y·∫øu trong c√°c m√¥i tr∆∞·ªùng GCP ƒë·∫°t chu·∫©n v·∫≠n h√†nh v√† s·∫£n xu·∫•t.
